<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LexiPal Features - AI Language Learning</title>
    <meta name="description" content="Discover the features of LexiPal - AI-powered language learning through natural conversations with customizable characters." />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- This link is required for header/footer styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/headerFooter.css') }}">


    <style>
      /* --- CSS Styles --- */
      /* Base styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Inter', sans-serif;
      }

      body {
        background: linear-gradient(to bottom, #f0f9f0, #e6f5e6);
        color: #333;
        line-height: 1.6;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }


      /* Hero - Added a wrapper for spacing, assuming header/nav height */
       .hero-wrapper {
        padding-top: 32px; /* Replaces header padding */
      }

      .hero {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        margin-bottom: 64px;
         margin-top: 64px; /* Replaces nav margin-bottom */
      }

      .hero-title {
        font-size: 42px;
        font-weight: bold;
        margin-bottom: 24px;
        background: linear-gradient(to right, #22c55e, #10b981);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      .hero-description {
        font-size: 18px;
        color: #4B5563;
        max-width: 650px;
        margin-bottom: 40px;
      }

      /* Features section */
      .features-section {
        padding: 40px 0 80px;
      }

      .section-title {
        font-size: 40px;
        font-weight: bold;
        margin-bottom: 16px;
        text-align: center;
        color: #111827;
      }

      .section-subtitle {
        color: #4B5563;
        text-align: center;
        max-width: 700px;
        margin: 0 auto 48px;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 32px;
        margin-bottom: 64px;
      }

      .feature-card {
        background: white;
        border-radius: 12px;
        padding: 32px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        border: 1px solid #E5E7EB;
        height: 100%;
        display: flex;
        flex-direction: column;
        opacity: 0;
        transform: translateY(20px);
      }

      .feature-card.active {
        opacity: 1;
        transform: translateY(0);
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        border-color: #22c55e;
      }

      .feature-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(to right, #22c55e, #10b981);
      }

      .feature-icon {
        background: linear-gradient(to bottom right, #dcfce7, #a7f3d0);
        height: 64px;
        width: 64px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 24px;
      }
       /* Ensure SVGs inside feature icons size correctly */
      .feature-icon svg {
        width: 24px;
        height: 24px;
        stroke: #22c55e;
      }

      .feature-title {
        font-size: 20px;
        font-weight: 600;
        margin-bottom: 16px;
        color: #111827;
      }

      .feature-description {
        color: #6B7280;
        flex-grow: 1;
      }

      .tag {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 16px;
        font-size: 14px;
        font-weight: 500;
        margin-top: 16px;
      }

      .tag-current {
        background-color: #dcfce7;
        color: #166534;
      }

      .tag-future {
        background-color: #e0f2fe;
        color: #075985;
      }

      /* Interactive demo section */
      .demo-section {
        background: linear-gradient(to right, #22c55e, #10b981);
        border-radius: 16px;
        padding: 48px;
        margin: 40px auto;
        color: white;
        position: relative;
        overflow: hidden;
      }

      .demo-content {
        position: relative;
        z-index: 2;
        max-width: 600px;
      }

      .demo-title {
        font-size: 32px;
        font-weight: bold;
        margin-bottom: 16px;
      }

      .demo-description {
        font-size: 18px;
        margin-bottom: 32px;
        opacity: 0.9;
      }

      .demo-section::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 300px;
        height: 300px;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='0.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cpath d='M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z'%3E%3C/path%3E%3Cpath d='M2 12h20'%3E%3C/path%3E%3C/svg%3E") no-repeat;
        background-size: contain;
        opacity: 0.1;
        z-index: 1;
      }

      .characters-preview {
        display: flex;
        gap: 20px;
        margin-top: 32px;
        flex-wrap: wrap;
      }

      .character-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #22c55e;
        font-weight: bold;
        font-size: 24px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .character-avatar:hover {
        transform: scale(1.1);
        border-color: white;
      }

      /* FAQs section */
      .faq-section {
        margin: 80px auto;
      }

      .accordions {
        max-width: 800px;
        margin: 0 auto;
      }

      .accordion {
        margin-bottom: 16px;
        border: 1px solid #E5E7EB;
        border-radius: 8px;
        overflow: hidden;
        background-color: white; /* Added for consistency */
        transition: box-shadow 0.3s ease; /* Add transition for hover */
      }
      .accordion:hover {
         box-shadow: 0 2px 8px rgba(0,0,0,0.05); /* Subtle hover effect */
      }

      .accordion-header {
        background: transparent; /* Inherit from .accordion */
        padding: 20px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .accordion-title {
        font-weight: 600;
        color: #111827;
      }

      .accordion-icon {
        transition: transform 0.3s ease;
        color: #6B7280; /* Ensure icon color */
      }
       .accordion-icon svg { /* Target SVG directly */
          width: 16px;
          height: 16px;
          stroke: currentColor; /* Use parent color */
      }


      .accordion.active .accordion-icon {
        transform: rotate(180deg);
      }

      .accordion-content {
        background: #F9FAFB;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out, padding 0.3s ease-out; /* Smoother transition */
         padding: 0 20px; /* Add padding transition */
      }

      .accordion.active .accordion-content {
        max-height: 300px; /* Adjust if needed */
         padding: 20px; /* Apply padding when active */
      }

      .accordion-body {
        /* Padding is now handled by .accordion-content */
        color: #4B5563;
      }

      /* Call to action */
      .cta {
        background: white;
        border-radius: 16px;
        padding: 48px;
        text-align: center;
        margin-bottom: 80px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        border: 1px solid #E5E7EB;
      }

      .cta-title {
        font-size: 32px;
        font-weight: bold;
        margin-bottom: 16px;
        color: #111827;
      }

      .cta-description {
        max-width: 600px;
        margin: 0 auto 32px auto;
        color: #4B5563;
      }

      .cta-buttons {
        display: flex;
        justify-content: center;
        align-items: center; /* Align items vertically */
        gap: 16px;
        flex-wrap: wrap; /* Allow wrapping on small screens */
      }
       .cta-buttons .button svg { /* Style SVGs inside CTA buttons */
        margin-left: 8px;
      }


      /* --- REMOVED HEADER AND FOOTER STYLES --- */
      /* Styles for header, nav, logo, nav-links, footer, footer-content, copyright */
      /* are now expected to be in headerFooter.css */


      /* Responsive */
      @media (max-width: 768px) {
        .hero-title, .section-title, .demo-title, .cta-title {
          font-size: 28px;
        }

        .hero-description, .section-subtitle, .demo-description, .cta-description {
          font-size: 16px;
        }

        .features-grid {
          grid-template-columns: 1fr;
        }

        .demo-section {
          padding: 32px 24px;
        }

        .cta {
          padding: 32px 24px;
        }

        .character-avatar {
          width: 60px;
          height: 60px;
          font-size: 20px;
        }

        .cta-buttons {
          flex-direction: column;
          gap: 12px;
        }

        /* --- REMOVED HEADER/FOOTER RESPONSIVE STYLES --- */
        /* Responsive styles for header/footer are now expected */
        /* to be in headerFooter.css */
      }
       /* --- End CSS Styles --- */
    </style>
  </head>

  <body>

    {% include 'components/header.html' %}

    <!-- Hero Section (moved outside header include) -->
    <div class="container hero-wrapper"> <!-- Added wrapper -->
        <div class="hero">
            <h1 class="hero-title">Discover LexiPal Features</h1>
            <p class="hero-description">
            LexiPal is an AI Language Partner designed to help you learn a new language by conversing with
            the character of your choice. Whether you're a beginner or looking to improve your fluency,
            LexiPal provides an interactive and engaging way to practice and enhance your language skills.
            </p>
        </div>
    </div>


    <!-- Main Content -->
    <main class="container">
      <!-- Current Features Section -->
      <section class="features-section">
        <h2 class="section-title">Current Features</h2>
        <p class="section-subtitle">
          Experience these powerful features in our current prototype,
          designed to make language learning more effective and enjoyable.
        </p>

        <div class="features-grid" id="current-features">
          <!-- Features will be dynamically populated -->
        </div>
      </section>

      <!-- Future Features Section -->
      <section class="features-section">
        <h2 class="section-title">Coming Soon</h2>
        <p class="section-subtitle">
          We're continually improving LexiPal. Here's a glimpse of what's on our roadmap
          to make your language learning journey even better.
        </p>

        <div class="features-grid" id="future-features">
          <!-- Features will be dynamically populated -->
        </div>
      </section>

      <!-- FAQ Section -->
      <section class="faq-section">
        <h2 class="section-title">Frequently Asked Questions</h2>
        <p class="section-subtitle">
          Got questions about LexiPal? Find quick answers to common questions below.
        </p>

        <div class="accordions" id="faq-accordions">
          <!-- FAQs will be dynamically populated -->
        </div>
      </section>

    </main>

    {% include 'components/footer.html' %}


    <script>
      document.addEventListener('DOMContentLoaded', function() {

        // --- Data Definitions ---
        const currentFeaturesData = [
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>', title: 'AI-Powered Conversations', description: 'Engage in realistic, natural-flowing conversations powered by advanced AI. Practice speaking, listening, and responding in your target language just like you would with a native speaker.' },
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z"></path><path d="M12 12H8"></path><path d="M12 6v6"></path></svg>', title: '100% Free Prototype', description: 'Experience a completely free Virtual Language Partner with all core features available at no cost. No hidden fees or premium restrictions during our prototype phase.' },
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path><path d="M2 12h20"></path></svg>', title: 'Multiple Language Support', description: 'Learn various languages including Spanish, French, German, English, Japanese, and many more. Switch between languages easily to expand your linguistic horizons.' },
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>', title: 'Customizable Characters', description: 'Choose and customize your language partner from a variety of character options. Select their personality, appearance, and teaching style to make your learning experience more personal and engaging.' },
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V4H8"></path><rect width="16" height="12" x="4" y="8" rx="2"></rect><path d="M2 14h2"></path><path d="M20 14h2"></path><path d="M15 13v2"></path><path d="M9 13v2"></path></svg>', title: 'Instant Feedback', description: 'Receive immediate corrections and suggestions on your language usage. LexiPal identifies grammar, vocabulary, and pronunciation errors to help you improve quickly.' },
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="3" rx="2"></rect><line x1="8" x2="16" y1="21" y2="21"></line><line x1="12" x2="12" y1="17" y2="21"></line></svg>', title: 'Multi-Platform Access', description: 'Access LexiPal from your computer, tablet, or smartphone. Your learning progress syncs across all devices, allowing you to practice whenever and wherever it\'s convenient for you.' }
        ];

        const futureFeaturesData = [
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>', title: 'Progress Tracking', description: 'Monitor your learning journey with detailed progress metrics. Track vocabulary acquisition, grammar mastery, speaking fluency, and overall language proficiency over time.' },
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>', title: 'Interactive Exercises', description: 'Participate in a variety of exercises designed to improve vocabulary, grammar, and pronunciation. From flashcards to role-playing scenarios, these activities reinforce what you\'ve learned through conversations.' },
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"></path><path d="M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"></path><path d="M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"></path></svg>', title: 'Speech Recognition', description: 'Practice your pronunciation with advanced speech recognition technology. Speak directly to LexiPal and receive detailed feedback on your accent, intonation, and pronunciation accuracy.' },
          { icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h3.8a2 2 0 0 0 1.4-.6L12 4.8a2 2 0 0 1 1.4-.6h3.8a2 2 0 0 1 2 2v2.2Z"></path></svg>', title: 'Personalized Learning Paths', description: 'Receive customized learning recommendations based on your progress, goals, and learning style. LexiPal adapts to your needs, focusing on areas where you need the most improvement.' }
        ];

        const faqsData = [
          { question: "How does LexiPal's AI conversation work?", answer: "LexiPal uses advanced natural language processing to understand what you say or type, then responds in a natural, conversational way in your target language. The AI adjusts to your proficiency level, gradually introducing new vocabulary and more complex sentence structures as you improve." },
          { question: "Is LexiPal really 100% free?", answer: "Yes, the current prototype version of LexiPal is completely free to use. All core features are available without any paywalls or restrictions. In the future, we may introduce premium features while maintaining free access to the basic functionality." },
          { question: "Which languages does LexiPal currently support?", answer: "LexiPal currently supports Spanish, French, German, English, Japanese, Italian, Portuguese, Russian, and Mandarin Chinese. We're actively working to add more languages based on user feedback and demand." },
          { question: "Can LexiPal help complete beginners?", answer: "Absolutely! LexiPal is designed to support learners at all levels, from complete beginners to advanced speakers. For beginners, LexiPal will start with simple phrases, basic vocabulary, and slow, clear pronunciation to help you build a solid foundation." }
        ];

        // --- DOM Element Getters ---
        const currentFeaturesContainer = document.getElementById('current-features');
        const futureFeaturesContainer = document.getElementById('future-features');
        const faqContainer = document.getElementById('faq-accordions');
        const characterAvatars = document.querySelectorAll('.character-avatar');
        const allFeatureCards = document.querySelectorAll('.feature-card'); // Select all initially for scroll animation setup

        // --- HTML Generation Functions ---
        function createFeatureCardHTML(feature, tagClass, tagText) {
          // Note: SVG stroke is now handled by CSS (.feature-icon svg)
          return `
            <div class="feature-icon">${feature.icon}</div>
            <h3 class="feature-title">${feature.title}</h3>
            <p class="feature-description">${feature.description}</p>
            <span class="tag ${tagClass}">${tagText}</span>
          `;
        }

        function createFAQAccordionHTML(faq) {
            // Ensure SVG stroke is controllable via CSS
            return `
            <div class="accordion-header">
              <div class="accordion-title">${faq.question}</div>
              <div class="accordion-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="m6 9 6 6 6-6"/>
                </svg>
              </div>
            </div>
            <div class="accordion-content">
              <div class="accordion-body">${faq.answer}</div>
            </div>
          `;
        }

        // --- Content Population Functions ---
        function populateFeatures(container, features, tagClass, tagText) {
          if (!container) return;
          features.forEach((feature, index) => {
            const featureCard = document.createElement('div');
            featureCard.className = 'feature-card'; // Start hidden for animation
            featureCard.innerHTML = createFeatureCardHTML(feature, tagClass, tagText);
            container.appendChild(featureCard);
            // Animation is now handled by the scroll listener
          });
        }

        function populateFAQs(container, faqs) {
          if (!container) return;
          faqs.forEach(faq => {
            const accordion = document.createElement('div');
            accordion.className = 'accordion';
            accordion.innerHTML = createFAQAccordionHTML(faq);
            container.appendChild(accordion);
          });
        }

        // --- Event Listener Setup Functions ---
        function setupFAQInteractions() {
          if (!faqContainer) return;
          // Use event delegation for performance
          faqContainer.addEventListener('click', function(event) {
             const header = event.target.closest('.accordion-header');
             if (header) {
               const accordion = header.parentElement;
                // Optional: Close other accordions when one opens
                /*
                if (!accordion.classList.contains('active')) {
                    faqContainer.querySelectorAll('.accordion.active').forEach(activeAccordion => {
                        if (activeAccordion !== accordion) {
                            activeAccordion.classList.remove('active');
                        }
                    });
                }
                */
               accordion.classList.toggle('active');
             }
          });
        }

        function setupAvatarHover() {
          if (!characterAvatars.length) return;
          characterAvatars.forEach(avatar => {
            avatar.addEventListener('mouseenter', function() {
              characterAvatars.forEach(a => {
                if (a !== this) a.style.opacity = '0.7';
              });
            });

            avatar.addEventListener('mouseleave', function() {
              characterAvatars.forEach(a => {
                a.style.opacity = '1';
              });
            });
          });
        }

        function setupScrollAnimations() {
            const cardsToAnimate = document.querySelectorAll('.feature-card'); // Select cards *after* they've been added
            if (!cardsToAnimate.length) return;

            const observerOptions = {
                root: null, // relative to document viewport
                rootMargin: '0px',
                threshold: 0.1 // Trigger when 10% of the element is visible
            };

            const observerCallback = (entries, observer) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        // Apply animation with a delay based on index or position
                        const delay = (index % cardsToAnimate.length) * 100; // Simple staggered delay
                        setTimeout(() => {
                            entry.target.classList.add('active');
                        }, delay);
                        observer.unobserve(entry.target); // Stop observing once animated
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);

            cardsToAnimate.forEach(card => {
                observer.observe(card);
            });
        }


        // --- Initialization ---
        populateFeatures(currentFeaturesContainer, currentFeaturesData, 'tag-current', 'Available Now');
        populateFeatures(futureFeaturesContainer, futureFeaturesData, 'tag-future', 'Coming Soon');
        populateFAQs(faqContainer, faqsData);

        setupFAQInteractions();
        setupAvatarHover();
        // Call scroll setup *after* elements are populated
        setupScrollAnimations();

      });
    </script>

    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  </body>
</html>